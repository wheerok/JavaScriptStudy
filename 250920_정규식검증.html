<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="main.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>
<body>
     <div class="black-bg">
        <div class="white-bg">
            <h4>로그인하세요</h4>

            <form action="success.html" id="loginForm"> <!--서버로 -->
                <div class="my-3">
                    <input type="text" class="form-control" id="email">
                </div>
                <div class="my-3">
                    <input type="password" class="form-control" id="password">
                </div>
                <button type="submit" class="btn btn-primary" id="send">전송</button>
                <button type="button" class="btn btn-danger" id="close">닫기</button>
                </form> 
        </div>
    </div> 

    <div class="main-bg">
        <h4>Shirts on Sale</h4>
        <button id="login" class="btn btn-danger">로그인</button>
    </div>

     <script>
        if (1 == 3){
            console.log('맞아요1');
        } else if(3 == 3){
            console.log('맞아요2');
        }
         // 앞의 조건식이  참이면 else문 뒤에는 실행 X

        $('#login').on('click', function(){
            $('.black-bg').fadeIn();
        });
        $('#close').on('click', function(){
            $('.black-bg').fadeOut();
        });


        //전송버튼 누르면, 인풋에 입력한 값이 공백이면 알림창 띄우기
        /*document.getElementById('loginForm').addEventListener('submit', function(e){
            if ( document.querySelectorAll("input")[0].value == ""){
                e.preventDefault();
                //참이면 실행할 코드
                alert('이메일을 입력해주세요.');
            } else{
                //참이 아니면 실행할 코드
                alert('환영합니다!');
            }
        });*/

        /*$('form').on('submit', function(e){
            if($('form #email').val() == ""){
                e.preventDefault();
                alert('이메일을 입력하세요!');
            } else {
                alert('환영합니다!');
            }
        });*/
        

        $('form').on('submit', function(e){
            var userInputId = document.getElementById('email').value;
            var userIputPsw = document.getElementById('password').value;
            //form 검증 시에는 return으로 끊어주는 방식이 깔끔함

            //이메일 입력 여부 검사
            if(userInputId == ""){
                e.preventDefault();
                alert('이메일을 입력하세요!');
                return; 
            }
            
            //이메일 형식 검사
            if(!/\S+@\S+\.\S+/.test(userInputId)){
                e.preventDefault();
                alert('이메일 형식인지 확인해주세요!');
                return;
            }
            //비밀번호 입력 여부 검사
            if(userIputPsw == ""){
                e.preventDefault();
                alert('비밀번호를 입력하세요!');
                return;
            }
            
            //비밀번호 자릿수 검사
            if(userIputPsw.length < 6){
                e.preventDefault();
                alert('비밀번호를 6자 이상 입력하세요!');
                return;
            }
            
            alert('환영합니다!');
           
        });

        document.getElementById('email').addEventListener('change', function(){
            //document.getElementById('email') 여기에 유저가 입력한 값이 변할 때마다 실행 (계속 검사)
            //change도 있음 -> 유저가 값을 입력 후 포커스를 잃을 때 실행 
            console.log('값이 입력되었어~');
        });

        
        /*
            문자를 검사하는 가장 쉬운 방법
            '문자'.includes('찾을 단어')
            -> 아무 문자 뒤에 .includes()를 붙일 수 있음
            -> 그러면 찾을 단어가 들어있늕디 검사하고 true, false 반환
            ⛔️ 하지만 한글이냐, 영어냐, A로 끝나냐 마침표 다음에 영어가 있냐 등은 검사가 어려움
            ==================================================================

            그래서 사용하는 것이 '정규표현식(regular expression)'
            정규식 표현법은? /abc/이게 끝임 그럼 물어볼 준비 완료!

            abcdef라는 문자에 abc라는 단어가 있는지 검사하는 방법
            /abc/.test('abcdef')

            ❇️ /정규식/.test(정규식으로 검사할 문자)
            -> 그러면 검사하고 true, false 반환

            ==================================================================
            
            🔆정규식 문법 배워보기

            1
            /a/.test('abcdef') -> true
            영어나 한글의 경우 그냥 쓰면 글자가 유무를 물어볼 수 있음

            2
            /[a-b]/.test('aefg') // true
             /[가-다].test('다라마바') //true
            []기호를 이용해서 문자 범위 지정 가능함
            즉, [a-z]는 a부터 z까지 아무 문자 하나를 의미함

            3
            

        */

    </script>

</body>
</html>